<!DOCTYPE html>
<html>
<head>
    <title>ç­›é€‰åŠŸèƒ½è°ƒè¯•å·¥å…·</title>
    <style>
        body { font-family: monospace; padding: 20px; }
        .section { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
        button { margin: 5px; padding: 10px; cursor: pointer; }
        .success { color: green; }
        .error { color: red; }
        pre { background: #f5f5f5; padding: 10px; overflow: auto; }
    </style>
</head>
<body>
    <h1>ğŸ” ç­›é€‰åŠŸèƒ½è°ƒè¯•å·¥å…·</h1>

    <div class="section">
        <h2>æ­¥éª¤ 1: æ‰“å¼€é¡¹ç›®åˆ—è¡¨é¡µ</h2>
        <p>è¯·å…ˆåœ¨å¦ä¸€ä¸ªæ ‡ç­¾é¡µæ‰“å¼€: <a href="http://localhost:5173/projects" target="_blank">http://localhost:5173/projects</a></p>
        <p>ç™»å½•åï¼Œæ‰“å¼€è¯¥é¡µé¢çš„å¼€å‘è€…å·¥å…· (F12)ï¼Œç„¶ååœ¨ Console ä¸­æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</p>
    </div>

    <div class="section">
        <h2>æ­¥éª¤ 2: åœ¨æ§åˆ¶å°æ‰§è¡Œè¯Šæ–­ä»£ç </h2>
        <p>å¤åˆ¶ä»¥ä¸‹ä»£ç åˆ°æ§åˆ¶å°ï¼š</p>
        <pre id="diagnostic-code">
// è¯Šæ–­ç­›é€‰åŠŸèƒ½
(function() {
    console.log('=== å¼€å§‹è¯Šæ–­ç­›é€‰åŠŸèƒ½ ===');

    // 1. æ£€æŸ¥ store çŠ¶æ€
    console.log('\n1ï¸âƒ£ æ£€æŸ¥ Store çŠ¶æ€');
    const storeElement = document.querySelector('[data-testid="project-store"]');
    console.log('Store Element:', storeElement);

    // 2. æ£€æŸ¥ Table ç»„ä»¶
    console.log('\n2ï¸âƒ£ æ£€æŸ¥ Table ç»„ä»¶');
    const table = document.querySelector('table');
    if (table) {
        const rows = table.querySelectorAll('tbody tr');
        console.log('âœ… æ‰¾åˆ° Tableï¼Œå½“å‰è¡Œæ•°:', rows.length);
        console.log('Table å†…å®¹:', table);
    } else {
        console.log('âŒ æœªæ‰¾åˆ° Table');
    }

    // 3. æ£€æŸ¥ç­›é€‰æŒ‰é’®
    console.log('\n3ï¸âƒ£ æ£€æŸ¥ç­›é€‰æŒ‰é’®');
    const filterBtn = Array.from(document.querySelectorAll('button')).find(btn =>
        btn.textContent.includes('ç­›é€‰') || btn.textContent.includes('Filter')
    );
    if (filterBtn) {
        console.log('âœ… æ‰¾åˆ°ç­›é€‰æŒ‰é’®:', filterBtn);
        console.log('æŒ‰é’®æ˜¯å¦å¯ç‚¹å‡»:', !filterBtn.disabled);
    } else {
        console.log('âŒ æœªæ‰¾åˆ°ç­›é€‰æŒ‰é’®');
    }

    // 4. æ‰‹åŠ¨è§¦å‘ç­›é€‰
    console.log('\n4ï¸âƒ£ æ‰‹åŠ¨è§¦å‘ç­›é€‰æµ‹è¯•');
    if (filterBtn) {
        console.log('å‡†å¤‡ç‚¹å‡»ç­›é€‰æŒ‰é’®...');
        filterBtn.click();

        setTimeout(() => {
            const newRows = document.querySelectorAll('table tbody tr');
            console.log('ç‚¹å‡»åè¡¨æ ¼è¡Œæ•°:', newRows.length);
        }, 2000);
    }

    // 5. æ£€æŸ¥ React ç»„ä»¶çŠ¶æ€
    console.log('\n5ï¸âƒ£ æ£€æŸ¥ React ç»„ä»¶');
    const rootElement = document.getElementById('root');
    if (rootElement && rootElement._reactRootContainer) {
        console.log('âœ… React æ ¹èŠ‚ç‚¹å­˜åœ¨');
    }

    console.log('\n=== è¯Šæ–­å®Œæˆ ===');
})();
        </pre>
        <button onclick="copyCode()">ğŸ“‹ å¤åˆ¶ä»£ç </button>
    </div>

    <div class="section">
        <h2>æ­¥éª¤ 3: å¼ºåˆ¶åˆ·æ–°æµ‹è¯•</h2>
        <p>å¦‚æœä¸Šé¢çš„è¯Šæ–­æ²¡æœ‰å‘ç°é—®é¢˜ï¼Œæ‰§è¡Œä»¥ä¸‹å¼ºåˆ¶åˆ·æ–°ä»£ç ï¼š</p>
        <pre id="force-refresh-code">
// å¼ºåˆ¶åˆ·æ–°è¡¨æ ¼
(function() {
    console.log('ğŸ”„ å¼ºåˆ¶åˆ·æ–°è¡¨æ ¼');

    // è§¦å‘ window resize äº‹ä»¶
    window.dispatchEvent(new Event('resize'));

    // æŸ¥æ‰¾å¹¶é‡æ–°ç‚¹å‡»ç­›é€‰æŒ‰é’®
    setTimeout(() => {
        const filterBtn = Array.from(document.querySelectorAll('button')).find(btn =>
            btn.textContent.includes('ç­›é€‰')
        );
        if (filterBtn) {
            console.log('å†æ¬¡ç‚¹å‡»ç­›é€‰æŒ‰é’®');
            filterBtn.click();
        }
    }, 1000);
})();
        </pre>
        <button onclick="copyForceRefresh()">ğŸ“‹ å¤åˆ¶ä»£ç </button>
    </div>

    <script>
        function copyCode() {
            const code = document.getElementById('diagnostic-code').textContent;
            navigator.clipboard.writeText(code);
            alert('âœ… è¯Šæ–­ä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼\n\nè¯·ç²˜è´´åˆ°é¡¹ç›®åˆ—è¡¨é¡µçš„æ§åˆ¶å°ä¸­æ‰§è¡Œã€‚');
        }

        function copyForceRefresh() {
            const code = document.getElementById('force-refresh-code').textContent;
            navigator.clipboard.writeText(code);
            alert('âœ… å¼ºåˆ¶åˆ·æ–°ä»£ç å·²å¤åˆ¶ï¼\n\nè¯·ç²˜è´´åˆ°æ§åˆ¶å°æ‰§è¡Œã€‚');
        }
    </script>
</body>
</html>
